!function(){var e={583:function(e){self,e.exports=(()=>{"use strict";var e={d:(r,t)=>{for(var n in t)e.o(t,n)&&!e.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:t[n]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};function t(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(n=t.next()).done)&&(a.push(n.value),!r||a.length!==r);i=!0);}catch(e){s=!0,o=e}finally{try{i||null==t.return||t.return()}finally{if(s)throw o}}return a}}(e,r)||o(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,r){if(e){if("string"==typeof e)return a(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,r):void 0}}function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){c(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}e.r(r),e.d(r,{MapyCz:()=>u,load:()=>d,default:()=>p});var u=function e(){var r,o=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"id",null),c(this,"controls",{}),c(this,"layers",{}),c(this,"markers",{}),c(this,"markersDefinition",{}),c(this,"clusterers",{}),c(this,"images",{}),c(this,"mapTypes",{DEF_BASE:"DEF_BASE",DEF_TURIST:"DEF_TURIST",DEF_OPHOTO:"DEF_OPHOTO",DEF_HISTORIC:"DEF_HISTORIC",DEF_OPHOTO0203:"DEF_OPHOTO0203",DEF_OPHOTO0406:"DEF_OPHOTO0406",DEF_SMART_BASE:"DEF_SMART_BASE",DEF_SMART_OPHOTO:"DEF_SMART_OPHOTO",DEF_SMART_TURIST:"DEF_SMART_TURIST",DEF_TURIST_WINTER:"DEF_TURIST_WINTER",DEF_SMART_WINTER:"DEF_SMART_WINTER",DEF_GEOGRAPHY:"DEF_GEOGRAPHY",DEF_OPHOTO1012:"DEF_OPHOTO1012",DEF_OPHOTO1415:"DEF_OPHOTO1415",DEF_OPHOTO1618:"DEF_OPHOTO1618",DEF_BASE_NEW:"DEF_BASE_NEW",DEF_TURIST_NEW:"DEF_TURIST_NEW"}),c(this,"update",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.zoom&&o.setZoom(e.zoom),e.center&&o.isCoords(e.center)&&o.setCenter(e.center),e.default_controls&&o.addDefaultControls(),e.sync_control?o.addControlSync():o.removeControl("sync"),e.markers&&Array.isArray(e.markers)?o.addMarkers(e.markers):o.removeMarkers(),e.marker&&o.isCoords(e.marker)&&o.addMarker(e.marker),e.auto_center_zoom&&o.autoCenterZoom(),e.clusterers&&(Array.isArray(e.clusterers)?e.clusterers.forEach(o.addClusterer):"string"==typeof e.clusterers?o.addClusterer(e.clusterers):o.addClusterers()),e.poi?o.addPoi():o.removePoi(),e.map_type_switch?Array.isArray(e.map_type_switch)?o.addMapTypeSwitch(e.map_type_switch):o.addMapTypeSwitch():o.removeMapTypeSwitch(),e.image_overlay?Array.isArray(e.image_overlay)?e.image_overlay.forEach(o.addImageOverlay):o.addImageOverlay(e.image_overlay):o.removeImageOverlay(),e.gpx?Array.isArray(e.gpx)?e.gpx.forEach(o.addGpx):o.addGpx(e.gpx):o.removeGpx()})),c(this,"loadScript",(function(){return window.wpifyMapyCzScript&&window.wpifyMapyCzScript instanceof Promise||(window.wpifyMapyCzScript=new Promise((function(e,r){if(document.querySelector('script[src="'+o.loaderUrl+'"]'))e();else{var t=document.createElement("script"),n=document.querySelector("script");t.addEventListener("load",e),t.addEventListener("error",(function(e){return r(e.error)})),t.src=o.loaderUrl,n.parentNode.insertBefore(t,n)}}))),window.wpifyMapyCzScript})),c(this,"loadSmap",(function(){return window.wpifyMapyCzScriptLoader&&window.wpifyMapyCzScriptLoader instanceof Promise||(window.wpifyMapyCzScriptLoader=new Promise((function(e){Loader.async=!0,Loader.lang=o.lang,Loader.load(o.id,{api:o.api,poi:o.poi,pano:o.pano,suggest:o.suggest},e)}))),window.wpifyMapyCzScriptLoader})),c(this,"createMap",(function(){return new Promise((function(e){"full"===o.api?(o.map=new SMap(o.element,o.getCoords(o.center),o.zoom),o.map.addDefaultLayer(o.getMapType()).enable()):"simple"===o.api&&(o.map=new SMap(o.element,o.getCoords(o.center),o.zoom,o.getMapType())),o.map.getSignals().addListener(window,"marker-click",o.onMarkerClick),e(o)}))})),c(this,"getMap",(function(){return o.map})),c(this,"getCoords",(function(e){var r=e.latitude,t=e.longitude;return SMap.Coords.fromWGS84(t,r)})),c(this,"getMapType",(function(){return SMap[o.mapType]?SMap[o.mapType]:SMap.DEF_BASE})),c(this,"generateId",(function(){for(var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).length,r=void 0===e?32:e,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],o=0;o<r;o++)n.push(t.charAt(Math.floor(62*Math.random())));return n.join("")})),c(this,"isCoords",(function(e){return"object"===l(e)&&e.longitude&&e.latitude})),c(this,"transformCoords",(function(e){return"object"===l(e)&&e.x&&e.y?{latitude:e.y,longitude:e.x}:e})),c(this,"addEventListener",(function(e,r){"map-click"===e&&o.map.getSignals().addListener(window,"map-click",(function(e){r(o.transformCoords(SMap.Coords.fromEvent(e.data.event,o.map)))}))})),c(this,"onMarkerClick",(function(e){var r=e.target,t=r.getId();o.markersDefinition[t]&&"function"==typeof o.markersDefinition[t].click&&o.markersDefinition[t].click(e,o.markersDefinition[t],r)})),c(this,"setZoom",(function(e){o.map.zoomChange(e)&&o.map.setZoom(e)})),c(this,"addDefaultControls",(function(){o.map.addDefaultControls()})),c(this,"addControlSync",(function(e){o.removeControl("sync"),o.controls.sync=new SMap.Control.Sync(e),o.map.addControl(o.controls.sync)})),c(this,"removeControl",(function(e){o.controls[e]&&(o.map.removeControl(e),delete o.controls[e])})),c(this,"addMarker",(function(e){var r=e.id||o.generateId();return o.addMarkers([s(s({},e),{},{id:r})]),r})),c(this,"addMarkers",(function(){var e={};(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(r){var t=r.layer||t;e[t]||(e[t]=[]),e[t].push(r)})),Object.keys(e).forEach((function(r){o.layers[r]?o.layers[r].disable():(o.layers[r]=new SMap.Layer.Marker,o.map.addLayer(o.layers[r])),e[r].forEach((function(e){var t=e.latitude,n=e.longitude,a=e.id,i=void 0===a?o.generateId():a,s=e.title,l=e.size,c=void 0===l?null:l,u=e.pin,d=e.anchor,p=e.card,f=e.pointer;o.markersDefinition[i]=e;var m=o.getCoords({latitude:t,longitude:n}),y={};if(s&&(y.title=s),c&&(y.size=c),u&&(y.url=u),d&&(y.anchor=d),o.removeMarker(i,r),o.markers[i]=new SMap.Marker(m,i,y),p&&Object(p)===p){var g=p.header,h=p.body,v=p.footer,S=p.container,b=new SMap.Card;g&&(b.getHeader().innerHTML=g),h&&(b.getBody().innerHTML=h),v&&(b.getFooter().innerHTML=v),S&&(b.getContainer().innerHTML=S),o.markers[i].decorate(SMap.Marker.Feature.Card,b)}if(o.layers[r].addMarker(o.markers[i]),f){var w="marker-pointer-"+i;o.controls[w]&&o.removeControl(w),o.controls[w]=new SMap.Control.Pointer,o.controls[w].addListener("pointer-click",(function(){return o.setCenter({latitude:t,longitude:n})}),o.controls[w]),o.controls[w].setCoords(m),o.map.addControl(o.controls[w])}})),o.layers[r].enable()}))})),c(this,"removeMarker",(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"markers";o.markers[e]&&(o.layers[r]&&o.layers[r].removeMarker(o.markers[e]),delete o.markers[e])})),c(this,"removeMarkers",(function(){Object.keys(o.layers).forEach((function(e){o.layers[e]&&o.layers[e]instanceof SMap.Layer.Marker&&o.layers[e].removeAll()}))})),c(this,"autoCenterZoom",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=e&&o.layers[e]?o.layers[e].getMarkers():Object.values(o.markers),t=o.map.computeCenterZoom(r.map((function(e){return e.getCoords()}))),a=n(t,2),i=a[0],s=a[1];o.map.setCenterZoom(i,s)})),c(this,"setCenter",(function(e){o.map.setCenter(o.getCoords(e))})),c(this,"addClusterer",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"markers";if(o.layers[e]){var r=new SMap.Marker.Clusterer(o.map);o.layers[e].setClusterer(r),o.clusterers[e]=r}})),c(this,"addClusterers",(function(){Object.keys(o.layers).forEach((function(e){o.layers[e]&&o.layers[e]instanceof SMap.Layer.Marker&&o.addClusterer(e)}))})),c(this,"addPoi",(function(){if(!o.layers.poi){o.layers.poi=new SMap.Layer.Marker(void 0,{poiTooltip:!0}),o.map.addLayer(o.layers.poi).enable();var e=o.map.createDefaultDataProvider();e.setOwner(o.map),e.addLayer(o.layers.poi),e.setMapSet([o.mapTypes.DEF_TURIST,o.mapTypes.DEF_TURIST_WINTER,o.mapTypes.DEF_TURIST_NEW,o.mapTypes.DEF_SMART_TURIST].includes(o.mapType)?SMap.MAPSET_TURIST:SMap.MAPSET_BASE),e.enable()}})),c(this,"removePoi",(function(){o.layers.poi&&(o.map.removeLayer(o.layers.poi),delete o.layers.poi)})),c(this,"addMapTypeSwitch",(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:65,items:4,page:4},t=Array.isArray(e)?e.filter((function(e){return Boolean(SMap[e])})):Object.keys(o.mapTypes).filter((function(e){return Boolean(SMap[e])}));t.forEach((function(e){o.map.addDefaultLayer(SMap[e])}));var n=new SMap.Control.Layer(r);t.forEach((function(e){n.addDefaultLayer(SMap[e])})),o.controls["layer-switch"]&&o.removeControl("layer-switch"),o.controls["layer-switch"]=n,o.map.addControl(n)})),c(this,"removeMapTypeSwitch",(function(){o.controls["layer-switch"]&&o.removeControl("layer-switch")})),c(this,"addImageOverlay",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,t=void 0===r?o.generateId():r,n=e.image,a=e.top_left,i=e.topLeft,s=void 0===i?a:i,l=e.bottom_right,c=e.bottomRight,u=void 0===c?l:c,d=e.opacity,p=void 0===d?1:d;if(o.layers.image||(o.layers.image=new SMap.Layer.Image,o.map.addLayer(o.layers.image),o.layers.image.enable()),n&&s&&u)return o.images[t]&&o.layers.image.removeImage(o.images[t]),o.images[t]=o.layers.image.addImage(n,o.getCoords(s),o.getCoords(u),p),o.images[t]})),c(this,"removeImageOverlay",(function(){o.layers.image&&Object.keys(o.images).forEach((function(e){o.layers.image.removeImage(o.images[e]),delete o.images[e]}))})),c(this,"addGpx",(function(e){var r=e.id,t=void 0===r?o.generateId():r,n=e.data,a=e.source,i=e.fit,s=e.colors,l=e.maxPoints,c=e.url;new Promise((function(e,r){if(n){var t=JAK.XML.createDocument(n);e(t)}else a&&fetch(a).then((function(e){if(e.ok)return e.text();throw e.error()})).then((function(r){e(JAK.XML.createDocument(r))})).catch(r)})).then((function(e){var r="gpx-"+t,n={};return s&&(n.colors=s),l&&(n.maxPoints=l),c&&(n.url=c),o.layers[r]=new SMap.Layer.GPX(e,null,n),o.map.addLayer(o.layers[r]),o.layers[r].enable(),i&&o.layers[r].fit(),Promise.resolve(r)}))})),c(this,"removeGpx",(function(){Object.keys(o.layers).forEach((function(e){o.layers[e]instanceof SMap.Layer.GPX&&(o.removeLayer(o.layers[e]),delete o.layers[e])}))})),c(this,"isLayerVisible",(function(e){if(o.layers[e])return o.layers[e].isActive()})),c(this,"hideLayer",(function(e){o.layers[e]&&o.layers[e].disable()})),c(this,"showLayer",(function(e){o.layers[e]&&o.layers[e].enable()})),c(this,"hideAllLayers",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"markers";Object.keys(o.layers).forEach((function(r){"markers"===e&&o.layers[r]instanceof SMap.Layer.Marker&&o.layers[r].disable()}))})),c(this,"showAllLayers",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"markers";Object.keys(o.layers).forEach((function(r){"markers"===e&&o.layers[r]instanceof SMap.Layer.Marker&&o.layers[r].enable()}))})),c(this,"findByAddress",(function(e,r){return new Promise((function(n,a){var i=function(e){var r=[],i=e.getResults();i.length>0&&i[0].results.length>0?(i.forEach((function(e){r.push.apply(r,t(e.results))})),n(r.map((function(e){var r=o.transformCoords(e.coords);return delete e.coords,s(s({},e),r)})))):a()};r&&2===r.length&&o.isCoords(r[0])&&o.isCoords(r[1])?new SMap.Geocoder(e,i,{bbox:[o.getCoords(r[0]),o.getCoords(r[1])]}):new SMap.Geocoder(e,i)}))})),c(this,"findByCoords",(function(e){return new Promise((function(r,t){o.isCoords(e)?new SMap.Geocoder.Reverse(o.getCoords(e),(function(e){var t=e.getResults();t.coords=o.transformCoords(t.coords),t.items=t.items.map((function(e){return e.coords=o.transformCoords(e.coords),e})),r(t)})):t("No coords provided")}))})),c(this,"addSuggest",(function(e,r){var t=e.input,n=e.lang,a=void 0===n?"cs,en":n,i=e.bounds,s=e.enableCategories;if(!t)return!1;o.suggest=new SMap.Suggest(t,{provider:new SMap.SuggestProvider({updateParams:function(e){var r=o.map.getCenter().toWGS84();e.lon=r[0].toFixed(5),e.lat=r[1].toFixed(5),e.zoom=o.map.getZoom(),i&&(e.bounds=i),s&&(e.enableCategories=s),e.lang=a}})}),o.suggest.addListener("suggest",r)})),this.loaderUrl="https://api.mapy.cz/loader.js",this.lang=a.lang||"en",this.zoom=a.zoom||13,this.mapType=a.mapType||this.mapTypes.DEF_BASE,this.api=["full","simple"].includes(a.api)?a.api:"full",this.poi=!a.poi||Boolean(a.poi),this.pano=!a.pano||Boolean(a.pano),this.suggest=!a.suggest||Boolean(a.pano),a.center&&a.center.latitude&&a.center.longitude?this.center=a.center:this.center={latitude:0,longitude:0},a.element?r=a.element:a.id&&document.getElementById(a.id)&&(r=document.getElementById(a.id)),!document.getElementById("wpify-mapy-cz-css-reset")){var i=document.createElement("style");i.id="wpify-mapy-cz-css-reset",i.appendChild(document.createTextNode([".smap{min-height:170px}",".smap img{max-width:unset!important;display:unset!important;}",".smap,.smap *,.smap *::before,.smap *::after{word-break:normal!important;box-sizing:unset!important;}",".smap svg{display:unset!important;height:unset!important;max-width:unset!important;}"].join(" "))),document.head.appendChild(i)}r&&(this.element=r,this.id=a.id,this.resolver=new Promise((function(e,r){o.loadScript().then(o.loadSmap).then(o.createMap).then((function(){o.update(a),e(o)})).catch(r)})))},d=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return null};new u(e).resolver.then(r)};const p=u;return r})()},967:function(e,r){var t;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e="",r=0;r<arguments.length;r++){var t=arguments[r];t&&(e=i(e,a(t)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var r="";for(var t in e)n.call(e,t)&&e[t]&&(r=i(r,t));return r}function i(e,r){return r?e?e+" "+r:e+r:e}e.exports?(o.default=o,e.exports=o):void 0===(t=function(){return o}.apply(r,[]))||(e.exports=t)}()}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var a=r[n]={exports:{}};return e[n](a,a.exports,t),a.exports}t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,{a:r}),r},t.d=function(e,r){for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},function(){"use strict";function e(r){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(r)}function r(r){var t=function(r,t){if("object"!=e(r)||!r)return r;var n=r[Symbol.toPrimitive];if(void 0!==n){var o=n.call(r,"string");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==e(t)?t:String(t)}function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function o(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var n,o,a,i,s=[],l=!0,c=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(n=a.call(t)).done)&&(s.push(n.value),s.length!==r);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw o}}return s}}(e,r)||function(e,r){if(e){if("string"==typeof e)return n(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,r):void 0}}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var a=window.wp.element,i=window.React,s=t.n(i),l=t(967),c=t.n(l),u=t(583),d=window.wp.hooks,p=window.wp.i18n;function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){var o,a,i;o=e,a=t,i=n[t],(a=r(a))in o?Object.defineProperty(o,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):o[a]=i})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}))}return e}var y=function(e){var r=e.id,t=e.className,n=e.group_level,l=void 0===n?0:n,f=e.value,y=void 0===f?{}:f,g=o((0,i.useState)(y),2),h=g[0],v=g[1],S=(0,i.useRef)(),b=(0,i.useRef)(),w=o((0,i.useState)(),2),O=w[0],E=w[1],_=h.description,M=void 0===_?"":_,C=h.latitude,T=void 0===C?0:C,k=h.longitude,D=void 0===k?0:k,P=h.zoom,j=void 0===P?12:P;return(0,i.useEffect)((function(){(0,u.load)({element:S.current,center:{longitude:D,latitude:T},zoom:j,sync_control:!0,marker:{longitude:D,latitude:T},default_controls:!0},E)}),[E]),(0,i.useEffect)((function(){O&&(Object.values(O.markers).forEach((function(e){e.decorate(SMap.Marker.Feature.Draggable)})),O.getMap().getSignals().addListener(window,"marker-drag-stop",(function(e){var r=e.target.getCoords();v(m(m({},h),{},{longitude:r.x,latitude:r.y}))})),O.addSuggest({input:b.current},(function(e){v(m(m({},h),{},{longitude:e.data.longitude,latitude:e.data.latitude,address:e.data.title}))})))}),[O,v]),(0,i.useEffect)((function(){O&&(O.setCenter({latitude:T,longitude:D}),0===Object.values(O.markers).length&&O.addMarker({longitude:D,latitude:T}),Object.values(O.markers).forEach((function(e){e.setCoords(new SMap.Coords(D,T)),e.decorate(SMap.Marker.Feature.Draggable)})))}),[O,T,D]),(0,i.useEffect)((function(){O&&O.getMap().getSignals().addListener(window,"map-redraw",(function(e){var r=e.target.getZoom();v((function(e){return m(m({},e),{},{zoom:r})}))}))}),[O,v]),(0,a.createElement)(s().Fragment,null,0===l&&(0,a.createElement)("input",{type:"hidden",name:r,value:JSON.stringify(h)}),(0,d.applyFilters)("wpify_mapy_cz_marker_form_begin",null,{currentValue:h,setCurrentValue:v,mapycz:O}),(0,a.createElement)("div",{style:{marginBottom:"1rem"}},(0,a.createElement)("input",{id:r,type:"text",ref:b,className:c()("regular-text",t),style:{width:"100%"},placeholder:(0,p.__)("Type to search...","wpify-mapy-cz")})),T&&D&&(0,a.createElement)("div",{style:{marginBottom:"1rem"}},(0,a.createElement)("small",null,(0,p.sprintf)((0,p.__)("latitude: %s, longitude: %s","wpify-mapy-cz"),T,D))),(0,d.applyFilters)("wpify_mapy_cz_marker_form_before_map",null,{currentValue:h,setCurrentValue:v,mapycz:O}),(0,a.createElement)("div",{className:"mapycz",style:{height:"400px",marginBottom:"1rem"},ref:S}),(0,d.applyFilters)("wpify_mapy_cz_marker_form_after_map",null,{currentValue:h,setCurrentValue:v,mapycz:O}),(0,a.createElement)("div",{style:{marginBottom:"1rem"}},(0,a.createElement)("label",null,(0,p.__)("Description:","wpify-mapy-cz"),(0,a.createElement)("br",null),(0,a.createElement)("textarea",{value:M,onChange:function(e){return v(m(m({},h),{},{description:e.target.value}))},style:{width:"100%"},rows:5}))),(0,d.applyFilters)("wpify_mapy_cz_marker_form_end",null,{currentValue:h,setCurrentValue:v,mapycz:O}))};(0,d.addFilter)("wcf_field_mapycz_marker","wpify-mapy-cz",(function(e){return y}))}()}();