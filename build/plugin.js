!function(){var e={583:function(e){self,e.exports=(()=>{"use strict";var e={d:(r,t)=>{for(var o in t)e.o(t,o)&&!e.o(r,o)&&Object.defineProperty(r,o,{enumerable:!0,get:t[o]})},o:(e,r)=>Object.prototype.hasOwnProperty.call(e,r),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},r={};function t(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,n,a=[],i=!0,s=!1;try{for(t=t.call(e);!(i=(o=t.next()).done)&&(a.push(o.value),!r||a.length!==r);i=!0);}catch(e){s=!0,n=e}finally{try{i||null==t.return||t.return()}finally{if(s)throw n}}return a}}(e,r)||n(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,r){if(e){if("string"==typeof e)return a(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(e,r):void 0}}function a(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function i(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function s(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?i(Object(t),!0).forEach((function(r){c(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}e.r(r),e.d(r,{MapyCz:()=>u,load:()=>d,default:()=>p});var u=function e(){var r,n=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"id",null),c(this,"controls",{}),c(this,"layers",{}),c(this,"markers",{}),c(this,"markersDefinition",{}),c(this,"clusterers",{}),c(this,"images",{}),c(this,"mapTypes",{DEF_BASE:"DEF_BASE",DEF_TURIST:"DEF_TURIST",DEF_OPHOTO:"DEF_OPHOTO",DEF_HISTORIC:"DEF_HISTORIC",DEF_OPHOTO0203:"DEF_OPHOTO0203",DEF_OPHOTO0406:"DEF_OPHOTO0406",DEF_SMART_BASE:"DEF_SMART_BASE",DEF_SMART_OPHOTO:"DEF_SMART_OPHOTO",DEF_SMART_TURIST:"DEF_SMART_TURIST",DEF_TURIST_WINTER:"DEF_TURIST_WINTER",DEF_SMART_WINTER:"DEF_SMART_WINTER",DEF_GEOGRAPHY:"DEF_GEOGRAPHY",DEF_OPHOTO1012:"DEF_OPHOTO1012",DEF_OPHOTO1415:"DEF_OPHOTO1415",DEF_OPHOTO1618:"DEF_OPHOTO1618",DEF_BASE_NEW:"DEF_BASE_NEW",DEF_TURIST_NEW:"DEF_TURIST_NEW"}),c(this,"update",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.zoom&&n.setZoom(e.zoom),e.center&&n.isCoords(e.center)&&n.setCenter(e.center),e.default_controls&&n.addDefaultControls(),e.sync_control?n.addControlSync():n.removeControl("sync"),e.markers&&Array.isArray(e.markers)?n.addMarkers(e.markers):n.removeMarkers(),e.marker&&n.isCoords(e.marker)&&n.addMarker(e.marker),e.auto_center_zoom&&n.autoCenterZoom(),e.clusterers&&(Array.isArray(e.clusterers)?e.clusterers.forEach(n.addClusterer):"string"==typeof e.clusterers?n.addClusterer(e.clusterers):n.addClusterers()),e.poi?n.addPoi():n.removePoi(),e.map_type_switch?Array.isArray(e.map_type_switch)?n.addMapTypeSwitch(e.map_type_switch):n.addMapTypeSwitch():n.removeMapTypeSwitch(),e.image_overlay?Array.isArray(e.image_overlay)?e.image_overlay.forEach(n.addImageOverlay):n.addImageOverlay(e.image_overlay):n.removeImageOverlay(),e.gpx?Array.isArray(e.gpx)?e.gpx.forEach(n.addGpx):n.addGpx(e.gpx):n.removeGpx()})),c(this,"loadScript",(function(){return window.wpifyMapyCzScript&&window.wpifyMapyCzScript instanceof Promise||(window.wpifyMapyCzScript=new Promise((function(e,r){if(document.querySelector('script[src="'+n.loaderUrl+'"]'))e();else{var t=document.createElement("script"),o=document.querySelector("script");t.addEventListener("load",e),t.addEventListener("error",(function(e){return r(e.error)})),t.src=n.loaderUrl,o.parentNode.insertBefore(t,o)}}))),window.wpifyMapyCzScript})),c(this,"loadSmap",(function(){return window.wpifyMapyCzScriptLoader&&window.wpifyMapyCzScriptLoader instanceof Promise||(window.wpifyMapyCzScriptLoader=new Promise((function(e){Loader.async=!0,Loader.lang=n.lang,Loader.load(n.id,{api:n.api,poi:n.poi,pano:n.pano,suggest:n.suggest},e)}))),window.wpifyMapyCzScriptLoader})),c(this,"createMap",(function(){return new Promise((function(e){"full"===n.api?(n.map=new SMap(n.element,n.getCoords(n.center),n.zoom),n.map.addDefaultLayer(n.getMapType()).enable()):"simple"===n.api&&(n.map=new SMap(n.element,n.getCoords(n.center),n.zoom,n.getMapType())),n.map.getSignals().addListener(window,"marker-click",n.onMarkerClick),e(n)}))})),c(this,"getMap",(function(){return n.map})),c(this,"getCoords",(function(e){var r=e.latitude,t=e.longitude;return SMap.Coords.fromWGS84(t,r)})),c(this,"getMapType",(function(){return SMap[n.mapType]?SMap[n.mapType]:SMap.DEF_BASE})),c(this,"generateId",(function(){for(var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).length,r=void 0===e?32:e,t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=[],n=0;n<r;n++)o.push(t.charAt(Math.floor(62*Math.random())));return o.join("")})),c(this,"isCoords",(function(e){return"object"===l(e)&&e.longitude&&e.latitude})),c(this,"transformCoords",(function(e){return"object"===l(e)&&e.x&&e.y?{latitude:e.y,longitude:e.x}:e})),c(this,"addEventListener",(function(e,r){"map-click"===e&&n.map.getSignals().addListener(window,"map-click",(function(e){r(n.transformCoords(SMap.Coords.fromEvent(e.data.event,n.map)))}))})),c(this,"onMarkerClick",(function(e){var r=e.target,t=r.getId();n.markersDefinition[t]&&"function"==typeof n.markersDefinition[t].click&&n.markersDefinition[t].click(e,n.markersDefinition[t],r)})),c(this,"setZoom",(function(e){n.map.zoomChange(e)&&n.map.setZoom(e)})),c(this,"addDefaultControls",(function(){n.map.addDefaultControls()})),c(this,"addControlSync",(function(e){n.removeControl("sync"),n.controls.sync=new SMap.Control.Sync(e),n.map.addControl(n.controls.sync)})),c(this,"removeControl",(function(e){n.controls[e]&&(n.map.removeControl(e),delete n.controls[e])})),c(this,"addMarker",(function(e){var r=e.id||n.generateId();return n.addMarkers([s(s({},e),{},{id:r})]),r})),c(this,"addMarkers",(function(){var e={};(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(r){var t=r.layer||t;e[t]||(e[t]=[]),e[t].push(r)})),Object.keys(e).forEach((function(r){n.layers[r]?n.layers[r].disable():(n.layers[r]=new SMap.Layer.Marker,n.map.addLayer(n.layers[r])),e[r].forEach((function(e){var t=e.latitude,o=e.longitude,a=e.id,i=void 0===a?n.generateId():a,s=e.title,l=e.size,c=void 0===l?null:l,u=e.pin,d=e.anchor,p=e.card,f=e.pointer;n.markersDefinition[i]=e;var m=n.getCoords({latitude:t,longitude:o}),y={};if(s&&(y.title=s),c&&(y.size=c),u&&(y.url=u),d&&(y.anchor=d),n.removeMarker(i,r),n.markers[i]=new SMap.Marker(m,i,y),p&&Object(p)===p){var h=p.header,g=p.body,v=p.footer,S=p.container,w=new SMap.Card;h&&(w.getHeader().innerHTML=h),g&&(w.getBody().innerHTML=g),v&&(w.getFooter().innerHTML=v),S&&(w.getContainer().innerHTML=S),n.markers[i].decorate(SMap.Marker.Feature.Card,w)}if(n.layers[r].addMarker(n.markers[i]),f){var M="marker-pointer-"+i;n.controls[M]&&n.removeControl(M),n.controls[M]=new SMap.Control.Pointer,n.controls[M].addListener("pointer-click",(function(){return n.setCenter({latitude:t,longitude:o})}),n.controls[M]),n.controls[M].setCoords(m),n.map.addControl(n.controls[M])}})),n.layers[r].enable()}))})),c(this,"removeMarker",(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"markers";n.markers[e]&&(n.layers[r]&&n.layers[r].removeMarker(n.markers[e]),delete n.markers[e])})),c(this,"removeMarkers",(function(){Object.keys(n.layers).forEach((function(e){n.layers[e]&&n.layers[e]instanceof SMap.Layer.Marker&&n.layers[e].removeAll()}))})),c(this,"autoCenterZoom",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=e&&n.layers[e]?n.layers[e].getMarkers():Object.values(n.markers),t=n.map.computeCenterZoom(r.map((function(e){return e.getCoords()}))),a=o(t,2),i=a[0],s=a[1];n.map.setCenterZoom(i,s)})),c(this,"setCenter",(function(e){n.map.setCenter(n.getCoords(e))})),c(this,"addClusterer",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"markers";if(n.layers[e]){var r=new SMap.Marker.Clusterer(n.map);n.layers[e].setClusterer(r),n.clusterers[e]=r}})),c(this,"addClusterers",(function(){Object.keys(n.layers).forEach((function(e){n.layers[e]&&n.layers[e]instanceof SMap.Layer.Marker&&n.addClusterer(e)}))})),c(this,"addPoi",(function(){if(!n.layers.poi){n.layers.poi=new SMap.Layer.Marker(void 0,{poiTooltip:!0}),n.map.addLayer(n.layers.poi).enable();var e=n.map.createDefaultDataProvider();e.setOwner(n.map),e.addLayer(n.layers.poi),e.setMapSet([n.mapTypes.DEF_TURIST,n.mapTypes.DEF_TURIST_WINTER,n.mapTypes.DEF_TURIST_NEW,n.mapTypes.DEF_SMART_TURIST].includes(n.mapType)?SMap.MAPSET_TURIST:SMap.MAPSET_BASE),e.enable()}})),c(this,"removePoi",(function(){n.layers.poi&&(n.map.removeLayer(n.layers.poi),delete n.layers.poi)})),c(this,"addMapTypeSwitch",(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{width:65,items:4,page:4},t=Array.isArray(e)?e.filter((function(e){return Boolean(SMap[e])})):Object.keys(n.mapTypes).filter((function(e){return Boolean(SMap[e])}));t.forEach((function(e){n.map.addDefaultLayer(SMap[e])}));var o=new SMap.Control.Layer(r);t.forEach((function(e){o.addDefaultLayer(SMap[e])})),n.controls["layer-switch"]&&n.removeControl("layer-switch"),n.controls["layer-switch"]=o,n.map.addControl(o)})),c(this,"removeMapTypeSwitch",(function(){n.controls["layer-switch"]&&n.removeControl("layer-switch")})),c(this,"addImageOverlay",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.id,t=void 0===r?n.generateId():r,o=e.image,a=e.top_left,i=e.topLeft,s=void 0===i?a:i,l=e.bottom_right,c=e.bottomRight,u=void 0===c?l:c,d=e.opacity,p=void 0===d?1:d;if(n.layers.image||(n.layers.image=new SMap.Layer.Image,n.map.addLayer(n.layers.image),n.layers.image.enable()),o&&s&&u)return n.images[t]&&n.layers.image.removeImage(n.images[t]),n.images[t]=n.layers.image.addImage(o,n.getCoords(s),n.getCoords(u),p),n.images[t]})),c(this,"removeImageOverlay",(function(){n.layers.image&&Object.keys(n.images).forEach((function(e){n.layers.image.removeImage(n.images[e]),delete n.images[e]}))})),c(this,"addGpx",(function(e){var r=e.id,t=void 0===r?n.generateId():r,o=e.data,a=e.source,i=e.fit,s=e.colors,l=e.maxPoints,c=e.url;new Promise((function(e,r){if(o){var t=JAK.XML.createDocument(o);e(t)}else a&&fetch(a).then((function(e){if(e.ok)return e.text();throw e.error()})).then((function(r){e(JAK.XML.createDocument(r))})).catch(r)})).then((function(e){var r="gpx-"+t,o={};return s&&(o.colors=s),l&&(o.maxPoints=l),c&&(o.url=c),n.layers[r]=new SMap.Layer.GPX(e,null,o),n.map.addLayer(n.layers[r]),n.layers[r].enable(),i&&n.layers[r].fit(),Promise.resolve(r)}))})),c(this,"removeGpx",(function(){Object.keys(n.layers).forEach((function(e){n.layers[e]instanceof SMap.Layer.GPX&&(n.removeLayer(n.layers[e]),delete n.layers[e])}))})),c(this,"isLayerVisible",(function(e){if(n.layers[e])return n.layers[e].isActive()})),c(this,"hideLayer",(function(e){n.layers[e]&&n.layers[e].disable()})),c(this,"showLayer",(function(e){n.layers[e]&&n.layers[e].enable()})),c(this,"hideAllLayers",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"markers";Object.keys(n.layers).forEach((function(r){"markers"===e&&n.layers[r]instanceof SMap.Layer.Marker&&n.layers[r].disable()}))})),c(this,"showAllLayers",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"markers";Object.keys(n.layers).forEach((function(r){"markers"===e&&n.layers[r]instanceof SMap.Layer.Marker&&n.layers[r].enable()}))})),c(this,"findByAddress",(function(e,r){return new Promise((function(o,a){var i=function(e){var r=[],i=e.getResults();i.length>0&&i[0].results.length>0?(i.forEach((function(e){r.push.apply(r,t(e.results))})),o(r.map((function(e){var r=n.transformCoords(e.coords);return delete e.coords,s(s({},e),r)})))):a()};r&&2===r.length&&n.isCoords(r[0])&&n.isCoords(r[1])?new SMap.Geocoder(e,i,{bbox:[n.getCoords(r[0]),n.getCoords(r[1])]}):new SMap.Geocoder(e,i)}))})),c(this,"findByCoords",(function(e){return new Promise((function(r,t){n.isCoords(e)?new SMap.Geocoder.Reverse(n.getCoords(e),(function(e){var t=e.getResults();t.coords=n.transformCoords(t.coords),t.items=t.items.map((function(e){return e.coords=n.transformCoords(e.coords),e})),r(t)})):t("No coords provided")}))})),c(this,"addSuggest",(function(e,r){var t=e.input,o=e.lang,a=void 0===o?"cs,en":o,i=e.bounds,s=e.enableCategories;if(!t)return!1;n.suggest=new SMap.Suggest(t,{provider:new SMap.SuggestProvider({updateParams:function(e){var r=n.map.getCenter().toWGS84();e.lon=r[0].toFixed(5),e.lat=r[1].toFixed(5),e.zoom=n.map.getZoom(),i&&(e.bounds=i),s&&(e.enableCategories=s),e.lang=a}})}),n.suggest.addListener("suggest",r)})),this.loaderUrl="https://api.mapy.cz/loader.js",this.lang=a.lang||"en",this.zoom=a.zoom||13,this.mapType=a.mapType||this.mapTypes.DEF_BASE,this.api=["full","simple"].includes(a.api)?a.api:"full",this.poi=!a.poi||Boolean(a.poi),this.pano=!a.pano||Boolean(a.pano),this.suggest=!a.suggest||Boolean(a.pano),a.center&&a.center.latitude&&a.center.longitude?this.center=a.center:this.center={latitude:0,longitude:0},a.element?r=a.element:a.id&&document.getElementById(a.id)&&(r=document.getElementById(a.id)),!document.getElementById("wpify-mapy-cz-css-reset")){var i=document.createElement("style");i.id="wpify-mapy-cz-css-reset",i.appendChild(document.createTextNode([".smap{min-height:170px}",".smap img{max-width:unset!important;display:unset!important;}",".smap,.smap *,.smap *::before,.smap *::after{word-break:normal!important;box-sizing:unset!important;}",".smap svg{display:unset!important;height:unset!important;max-width:unset!important;}"].join(" "))),document.head.appendChild(i)}r&&(this.element=r,this.id=a.id,this.resolver=new Promise((function(e,r){n.loadScript().then(n.loadSmap).then(n.createMap).then((function(){n.update(a),e(n)})).catch(r)})))},d=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return null};new u(e).resolver.then(r)};const p=u;return r})()}},r={};function t(o){var n=r[o];if(void 0!==n)return n.exports;var a=r[o]={exports:{}};return e[o](a,a.exports,t),a.exports}t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,{a:r}),r},t.d=function(e,r){for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},function(){"use strict";function e(){return e=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},e.apply(this,arguments)}function r(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var o,n,a,i,s=[],l=!0,c=!1;try{if(a=(t=t.call(e)).next,0===r){if(Object(t)!==t)return;l=!1}else for(;!(l=(o=a.call(t)).done)&&(s.push(o.value),s.length!==r);l=!0);}catch(e){c=!0,n=e}finally{try{if(!l&&null!=t.return&&(i=t.return(),Object(i)!==i))return}finally{if(c)throw n}}return s}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var n=window.wp.element,a=window.React,i=window.ReactDOM,s=t.n(i),l=t(583),c=window.wp.hooks,u=function(e){var r=o((0,a.useState)(),2),t=r[0],i=r[1],s=e.longitude,u=e.latitude,d=e.zoom,p=e.layer_type,f=e.markers,m=e.auto_center_zoom,y=e.width,h=e.height,g=(0,a.useRef)(),v=function(){var e=o((0,a.useState)(!1),2),r=e[0],t=e[1],n=o((0,a.useState)(),2),i=n[0],s=n[1];return(0,a.useEffect)((function(){i&&new IntersectionObserver((function(e,r){e.forEach((function(e){e.isIntersecting&&(t(!0),r.unobserve(e.target))}))})).observe(i)}),[i,t]),{doLoad:r,lazyload:s}}(),S=v.doLoad,w=v.lazyload;return(0,a.useEffect)((function(){w(g.current)}),[]),(0,a.useEffect)((function(){if(S){var r={element:g.current,center:{longitude:s,latitude:u},zoom:d,sync_control:!0,default_controls:!0,mapType:p,markers:f,auto_center_zoom:m};t?(e.disable_scroll&&(t.map.getControls().forEach((function(e){e instanceof SMap.Control.Mouse&&t.map.removeControl(e)})),t.map.addControl(new SMap.Control.Mouse(SMap.MOUSE_PAN|SMap.MOUSE_ZOOM))),(0,c.doAction)("wpify-map-setup",t,r,e)):(0,l.load)((0,c.applyFilters)("wpify-setup-map-options",r,e),i)}}),[l.load,t,i,S]),(0,n.createElement)("div",{ref:g,style:{width:y,height:h}})};document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll("[data-mapycz]").forEach((function(r){var t=window.wpify_mapy_cz[parseInt(r.dataset.mapycz,10)];s().render((0,n.createElement)(u,e({},t,{element:r})),r)}))}))}()}();